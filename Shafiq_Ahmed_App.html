<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shafiq Ahmed - Weather + Mosque + Payment + Registration</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f4f4f9; }
        h1, h2 { color: #333; }
        .section { background: #fff; padding: 15px; margin-bottom: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        label { display: block; margin-top: 10px; }
        input { width: 100%; padding: 8px; margin-top: 5px; border-radius: 4px; border: 1px solid #ccc; }
        button { margin-top: 15px; padding: 10px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; }
        button:hover { background: #0056b3; }
        ul { padding-left: 20px; }
    </style>
</head>
<body>
    <!-- Weather Section -->
    <div class="section">
        <h1>Weather (Mousum) - Shafiq Ahmed</h1>
        <input type="text" id="cityInput" placeholder="Enter city name">
        <button id="getWeatherBtn">Get Weather</button>
        <div id="weatherResult" class="weather-result"></div>
    </div>

    <!-- Mosque Section -->
    <div class="section">
        <h2>Nearest Mosque</h2>
        <p><strong>Name:</strong> Al Noor Mosque</p>
        <p><strong>Location:</strong> 123 Main Street, City</p>
        <p><strong>Prayer Times Today:</strong></p>
        <ul>
            <li>Fajr: 5:10 AM</li>
            <li>Dhuhr: 1:15 PM</li>
            <li>Asr: 4:30 PM</li>
            <li>Maghrib: 6:45 PM</li>
            <li>Isha: 8:00 PM</li>
        </ul>
        <iframe src="https://www.google.com/maps?q=mosque&output=embed"
                width="100%" height="250" style="border:0;" allowfullscreen loading="lazy"></iframe>
    </div>

    <!-- Credit Card Form -->
    <div class="section">
        <h2>Payment Details</h2>
        <form id="cardForm">
            <label for="cardName">Cardholder Name:</label>
            <input type="text" id="cardName" name="cardName" required>

            <label for="cardNumber">Card Number:</label>
            <input type="text" id="cardNumber" name="cardNumber" maxlength="16" required>

            <label for="expiry">Expiry Date:</label>
            <input type="text" id="expiry" name="expiry" placeholder="MM/YY" required>

            <label for="cvv">CVV:</label>
            <input type="password" id="cvv" name="cvv" maxlength="4" required>

            <button type="submit">Submit Payment</button>
        </form>
    </div>

    <!-- Registration Form -->
    <div class="section">
        <h2>User Registration</h2>
        <form id="registerForm">
            <label for="username">Username:</label>
            <input type="text" id="username" name="username" required>

            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>

            <label for="password">Password:</label>
            <input type="password" id="password" name="password" required>

            <label for="confirmPassword">Confirm Password:</label>
            <input type="password" id="confirmPassword" name="confirmPassword" required>

            <button type="submit">Register</button>
        </form>
    </div>

    <script>
        // ===== WEATHER (Mousum Live) =====
        const apiKey = "YOUR_API_KEY"; // Replace with OpenWeatherMap API key
        const weatherBtn = document.getElementById("getWeatherBtn");
        const cityInput = document.getElementById("cityInput");
        const weatherResult = document.getElementById("weatherResult");

        weatherBtn.addEventListener("click", () => {
            const city = cityInput.value.trim() || "London";
            getWeather(city);
        });

        async function getWeather(city) {
            try {
                const response = await fetch(
                    `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`
                );
                if (!response.ok) throw new Error("City not found");
                const data = await response.json();

                weatherResult.innerHTML = `
                    <h3>${data.name}, ${data.sys.country}</h3>
                    <p>üå° Temperature: ${data.main.temp} ¬∞C</p>
                    <p>‚òÅ Condition: ${data.weather[0].description}</p>
                    <p>üí® Wind Speed: ${data.wind.speed} m/s</p>
                `;
            } catch (error) {
                weatherResult.innerHTML = `<p style="color:red;">${error.message}</p>`;
            }
        }

        // ===== CREDIT CARD VALIDATION =====
        const cardForm = document.getElementById("cardForm");
        cardForm.addEventListener("submit", (e) => {
            e.preventDefault();

            const cardName = document.getElementById("cardName").value.trim();
            const cardNumber = document.getElementById("cardNumber").value.trim();
            const expiry = document.getElementById("expiry").value.trim();
            const cvv = document.getElementById("cvv").value.trim();

            let errors = [];
            if (cardName.length < 3) errors.push("Cardholder name too short.");
            if (!/^\d{16}$/.test(cardNumber)) errors.push("Card number must be 16 digits.");
            if (!/^(0[1-9]|1[0-2])\/\d{2}$/.test(expiry)) errors.push("Expiry must be MM/YY.");
            if (!/^\d{3,4}$/.test(cvv)) errors.push("CVV must be 3 or 4 digits.");

            if (errors.length > 0) {
                alert("Error:\n" + errors.join("\n"));
            } else {
                alert("‚úÖ Payment submitted (demo only).");
                cardForm.reset();
            }
        });

        // ===== REGISTRATION VALIDATION =====
        const registerForm = document.getElementById("registerForm");
        registerForm.addEventListener("submit", (e) => {
            e.preventDefault();

            const username = document.getElementById("username").value.trim();
            const email = document.getElementById("email").value.trim();
            const password = document.getElementById("password").value;
            const confirmPassword = document.getElementById("confirmPassword").value;

            let errors = [];
            if (username.length < 3) errors.push("Username must be at least 3 characters.");
            if (!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(email)) errors.push("Invalid email address.");
            if (password.length < 6) errors.push("Password must be at least 6 characters.");
            if (password !== confirmPassword) errors.push("Passwords do not match.");

            if (errors.length > 0) {
                alert("Registration Error:\n" + errors.join("\n"));
            } else {
                alert("‚úÖ Registration successful (demo only).");
                registerForm.reset();
            }
        });
    </script>
</body>
</html>
